{"ast":null,"code":"export default {\n  data() {\n    return {\n      websocket: null\n    };\n  },\n  methods: {\n    initializeWebSocket(userId) {\n      this.websocket = new WebSocket(`ws://localhost:9090/imserverSingle/${userId}`);\n      this.websocket.onopen = this.onWebSocketOpen;\n      this.websocket.onclose = this.onWebSocketClose;\n      this.websocket.onmessage = this.onWebSocketMessage;\n    },\n    onWebSocketOpen() {\n      console.log('WebSocket连接已打开');\n      // 连接成功后的逻辑，例如获取初始数据\n    },\n\n    onWebSocketClose() {\n      console.log('WebSocket连接已关闭');\n      // 连接关闭后的逻辑\n    },\n\n    onWebSocketMessage(event) {\n      console.log('收到WebSocket消息:', event.data);\n      // 处理收到的WebSocket消息\n    }\n    // 其他WebSocket相关方法和逻辑\n  },\n\n  // 在组件销毁前关闭WebSocket连接\n  beforeDestroy() {\n    if (this.websocket) {\n      this.websocket.close();\n    }\n  }\n};","map":{"version":3,"names":["data","websocket","methods","initializeWebSocket","userId","WebSocket","onopen","onWebSocketOpen","onclose","onWebSocketClose","onmessage","onWebSocketMessage","console","log","event","beforeDestroy","close"],"sources":["C:/Users/wcf/springboot-vue框架实操/xm-blog/vue/src/store/websocketMixin.js"],"sourcesContent":["export default {\r\n    data() {\r\n        return {\r\n            websocket: null,\r\n        };\r\n    },\r\n    methods: {\r\n        initializeWebSocket(userId) {\r\n            this.websocket = new WebSocket(`ws://localhost:9090/imserverSingle/${userId}`);\r\n            this.websocket.onopen = this.onWebSocketOpen;\r\n            this.websocket.onclose = this.onWebSocketClose;\r\n            this.websocket.onmessage = this.onWebSocketMessage;\r\n        },\r\n        onWebSocketOpen() {\r\n            console.log('WebSocket连接已打开');\r\n            // 连接成功后的逻辑，例如获取初始数据\r\n        },\r\n        onWebSocketClose() {\r\n            console.log('WebSocket连接已关闭');\r\n            // 连接关闭后的逻辑\r\n        },\r\n        onWebSocketMessage(event) {\r\n            console.log('收到WebSocket消息:', event.data);\r\n            // 处理收到的WebSocket消息\r\n        },\r\n        // 其他WebSocket相关方法和逻辑\r\n    },\r\n    // 在组件销毁前关闭WebSocket连接\r\n    beforeDestroy() {\r\n        if (this.websocket) {\r\n            this.websocket.close();\r\n        }\r\n    },\r\n};\r\n"],"mappings":"AAAA,eAAe;EACXA,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,SAAS,EAAE;IACf,CAAC;EACL,CAAC;EACDC,OAAO,EAAE;IACLC,mBAAmBA,CAACC,MAAM,EAAE;MACxB,IAAI,CAACH,SAAS,GAAG,IAAII,SAAS,CAAE,sCAAqCD,MAAO,EAAC,CAAC;MAC9E,IAAI,CAACH,SAAS,CAACK,MAAM,GAAG,IAAI,CAACC,eAAe;MAC5C,IAAI,CAACN,SAAS,CAACO,OAAO,GAAG,IAAI,CAACC,gBAAgB;MAC9C,IAAI,CAACR,SAAS,CAACS,SAAS,GAAG,IAAI,CAACC,kBAAkB;IACtD,CAAC;IACDJ,eAAeA,CAAA,EAAG;MACdK,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC;MAC7B;IACJ,CAAC;;IACDJ,gBAAgBA,CAAA,EAAG;MACfG,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC;MAC7B;IACJ,CAAC;;IACDF,kBAAkBA,CAACG,KAAK,EAAE;MACtBF,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEC,KAAK,CAACd,IAAI,CAAC;MACzC;IACJ;IACA;EACJ,CAAC;;EACD;EACAe,aAAaA,CAAA,EAAG;IACZ,IAAI,IAAI,CAACd,SAAS,EAAE;MAChB,IAAI,CAACA,SAAS,CAACe,KAAK,CAAC,CAAC;IAC1B;EACJ;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}